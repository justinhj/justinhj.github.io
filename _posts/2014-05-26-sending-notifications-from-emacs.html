---
layout: post
title: Sending notifications from Emacs (Mac OS X)
date: '2014-05-26T10:09:00.000-07:00'
author: Justin
tags: [emacs, command-line, mac]
modified_time: '2014-05-26T10:09:23.331-07:00'
thumbnail: http://2.bp.blogspot.com/-yDgeaniNYCE/U4NvhCtk5aI/AAAAAAAAIaQ/Z4cS2A8GCto/s72-c/notify.png
blogger_id: tag:blogger.com,1999:blog-4777243148323391813.post-4072103569281019990
blogger_orig_url: http://justinsboringpage.blogspot.com/2014/05/sending-notifications-from-emacs.html
---

<div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-yDgeaniNYCE/U4NvhCtk5aI/AAAAAAAAIaQ/Z4cS2A8GCto/s1600/notify.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-yDgeaniNYCE/U4NvhCtk5aI/AAAAAAAAIaQ/Z4cS2A8GCto/s1600/notify.png" /></a></div><br />Sending notifications from emacs is something I find useful. In an earlier blog post I talked about how to use Growl to do so.&nbsp;<a href="{{ site.baseurl }}{% post_url 2009-09-10-making-emacs-growl %}">http://justinsboringpage.blogspot.com/2009/09/making-emacs-growl.html</a><br /><br />Well now you don't need Growl any longer. There's a neat github project called terminal notifier&nbsp;<a href="https://github.com/alloy/terminal-notifier">https://github.com/alloy/terminal-notifier</a>&nbsp;which let's you send notifications from the terminal.<br /><br />You can install it simply, via Homebrew or Rubygems as follows:<br /><pre style="background-color: #f8f8f8; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(221, 221, 221); box-sizing: border-box; color: #333333; font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 13px; line-height: 19px; margin-bottom: 15px; margin-top: 15px; overflow: auto; padding: 6px 10px; word-wrap: normal;"><code style="background-color: transparent; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: none; box-sizing: border-box; display: inline; font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 12px; line-height: inherit; margin: 0px; padding: 0px; word-wrap: normal;">$ [sudo] gem install terminal-notifier</code></pre>OR<br /><pre style="background-color: #f8f8f8; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: 1px solid rgb(221, 221, 221); box-sizing: border-box; color: #333333; font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 13px; line-height: 19px; margin-bottom: 15px; margin-top: 15px; overflow: auto; padding: 6px 10px; word-wrap: normal;"><code style="background-color: transparent; border-bottom-left-radius: 3px; border-bottom-right-radius: 3px; border-top-left-radius: 3px; border-top-right-radius: 3px; border: none; box-sizing: border-box; display: inline; font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 12px; line-height: inherit; margin: 0px; padding: 0px; word-wrap: normal;">brew install terminal-notifier</code></pre>Then you can send notifications using a command like this:<br /><br /><div style="background-color: #2c67c8; color: white; font-family: Menlo; font-size: 11px;">terminal-notifier -message "hello"</div><br />Finally in order to send the notification from emacs we need to write a little Emacs lisp.<br /><br />Check out this gist for the code I use:<br /><br /><a href="https://gist.github.com/justinhj/eb2d354d06631076566f#file-gistfile1-el">https://gist.github.com/justinhj/eb2d354d06631076566f#file-gistfile1-el</a><br /><br />This lets you send a notification in the future using M-x timed-notification<br /><br />You are prompted for a time, and the format of that time can be given in a human readable way such as "2 seconds" or "5 minutes" (If you're curious for the allowed options look at the info page in emacs for the function timer-duration )<br /><br />Then you are prompted for the message "Go to the store", and the message will be sent.<br /><br />The code is very simple, it simply uses run-at-time to run the terminal command in the future. A useful command is find-executable, which given a name will find that executable in your path and run it. This makes configuring tools like this less effort.<br /><br /><h3>Troubleshooting</h3>Hey if it doesn't work first time what can you do?<br /><br /><br /><ol><li>Check if terminal notify is installed correctly by running at terminal</li><li>If that succeeds and you don't get a message check if you have enabled do not disturb mode</li><li>Otherwise if that succeeds and yet emacs isn't sending messages you likely don't have the executable on the path. M-x customize-variable exec-path</li></ol><div><br /></div><div><br /></div><br /><br /><br /><br /><br /><br />
